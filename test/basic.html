<!doctype html>
<html>
<head>
  <meta charset="UTF-8">
  <title>dsc-polymer-parallax tests</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <script src="../../web-component-tester/browser.js"></script>
  <script src="../../iron-test-helpers/mock-interactions.js"></script>

  <link rel="import" href="../dsc-polymer-video-bg.html">

</head>
<style>

</style>
<body>

  <test-fixture id="basic">
    <template>
      <dsc-polymer-video-bg srcs='["videos/video.mp4", "videos/video.webm", "videos/video.ogv"]' muted='muted'></dsc-polymer-video-bg>
    </template>
  </test-fixture>

  <test-fixture id="background-image">
    <template>
      <dsc-polymer-video-bg srcs='["videos/video.mp4", "videos/video.webm", "videos/video.ogv"]' muted='muted' background="images/background.png">
        <h1>TESTE</h1>
      </dsc-polymer-video-bg>
    </template>
  </test-fixture>

  <script>
    suite('<dsc-polymer-video-bg>', function() {
      var container;
      var containerBackground;

      setup(function() {
        container = fixture('basic');
        containerBackground = fixture('background-image');
      });

      test('Check content integrity', function() {
        // div.container
        var divContainer = container.querySelector('div.container');
        expect(divContainer).to.exist;

        // div.container div#content
        var video = container.querySelector('video');
        expect(video).to.exist;

        // sources
        // expect(Polymer.dom(video.root).querySelectorAll('source').length).to.be.equal(3);
        // expect(video.$('source').length).to.be.equal(3);
        // expect(video.$$('source')).to.exist;
        // this.$$(selector)

        // injected content
        var elem = containerBackground.querySelector('h1');
        expect(elem.textContent.trim()).to.be.equal('TESTE');

      });

      test('Check attributes', function() {
        var video = container.querySelector('video');
        expect(video.getAttribute('autoplay')).to.exist;
      });

      /*test('Verify background style', function() {
        var background = window.getComputedStyle(container).backgroundImage;
        expect(background).to.contain('images/slide-1.jpg');
      });*/
    });
  </script>
</body>
</html>
